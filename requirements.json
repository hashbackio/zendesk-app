{
  "targets": {
    "hashback_analysis_target": {
      "content_type": "application/json",
      "method": "post",
      "target_url": "https://api.hashback.io/feedback/zendesk?token={{setting.token}}",
      "title": "Hashback Analysis Target",
      "type": "http_target",
    }
  },
  "ticket_fields": {
    "hashback_sentiment": {
      "custom_field_options": [
        {
          "name": "positive",
          "title": "Positive"
        },
        {
          "name": "negative",
          "title": "Negative"
        },
        {
          "name": "neutral",
          "title": "Neutral"
        },
      ],
      "title": "Hashback Sentiment",
      "type": "tagger"
    }
  },
  "triggers": {
    "hashback_analysis_on_ticket_created": {
      "actions": [
        {
          "field": "notification_target",
          "value": ["hashback_analysis_target", "{\"description\":\"{{ticket.description}}\",\"title\":\"{{ticket.title}}\",\"ticketId\":\"{{ticket.id}}\",\"user\":{\"email\":\"{{ticket.requester.email}}\",\"id\":\"{{ticket.requester.id}}\",\"name\":\"{{ticket.requester.name}}\"}}"]
        }
      ],
      "all": [
        { "field": "status", "operator": "is", "value": "new" },
      ],
      "title": "Analyze created ticket with Hashback"
    }
  }
}
